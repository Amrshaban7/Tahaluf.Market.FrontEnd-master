
<app-asidenav></app-asidenav>


<main class="main-wrap">

<section class="content-main">
    <div class="row">
        <div class="col-12">
            <div class="content-header">
                <h2 class="content-title">Manage Promo Codes</h2>
            </div>
        </div>
        <div class="col-lg-12">
            <div class="card mb-4">
                <div class="card-body">
                    <form  [formGroup]="addPromo">
                    <div class="mb-4">
                        <label for="product_title" class="form-label">Promo Code Unique Code</label>
                        <input type="text" placeholder="Type here" class="form-control" matInput formControlName="Code" id="product_title">
                    </div>
                    <div class="mb-4">
                        <label for="product_brand" class="form-label">Promo Information</label>
                        <input type="text" placeholder="Type here" class="form-control" matInput formControlName="Name" id="product_brand">
                    </div>
                    <div class="row gx-3">
                        <div class="col-md-4  mb-3">
                            <label for="product_sku" class="form-label">Discount %</label>
                            <input type="number" placeholder="Type here" class="form-control" matInput formControlName="Discount" id="product_sku">
                        </div>
                        <div class="col-md-4  mb-3">
                            <label for="product_color" class="form-label">Valid Start Date</label>
                            <input type="date" placeholder="Type here" class="form-control"  matInput formControlName="Start_Time" id="product_color">
                        </div>
                        <div class="col-md-4  mb-3">
                            <label for="product_size" class="form-label">Valid End Date</label>
                            <input type="date" placeholder="Type here" class="form-control"  matInput formControlName="End_Time" id="product_size">
                        </div>
                    </div>
                    <button class="btn btn-md rounded font-sm hover-up" (click)="addPromoCode()">Publish</button>
                </form>
                </div>
            </div> <!-- card end// -->
        </div>
        <div class="col-lg-12">
            <header class="border-bottom mb-4 pb-4">
                <div class="row">
                </div>
            </header> <!-- card-header end// -->
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Promo Code ID</th>
                            <th>Code</th>
                            <th>Name</th>
                            <th>Discount</th>
                            <th>Start Date</th>
                            <th>End Date</th>
                            <th>Status</th>
                            <th class="text-end"> Action </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let obj of promocode.loadedPromoCodes">
                            <td><b>#{{obj.id}}</b></td>
                            <td>{{obj.code}}</td>
                            <td>{{obj.name}}</td>
                            <td>{{obj.discount}}%</td>
                            <td>{{obj.start_Time | date:'medium'}}</td>
                            <td>{{obj.end_Time | date:'medium'}}</td>
                            <td *ngIf="(obj.end_Time | date:'medium')  > (myDate1 | date:'medium')  || obj.end_Time == (myDate1 | date:'medium') "> <span class="badge rounded-pill alert-success" >Active</span></td>
                            <td *ngIf="(obj.end_Time | date:'medium')  < (myDate1 | date:'medium') "> <span class="badge rounded-pill alert-danger">Expired</span></td>




                            <td class="text-end">
                                <a (click)="deletePromoCode(obj.id)" class="btn btn-sm btn-warning btn-light font-sm rounded">Delete Code</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div> <!-- table-responsive.// -->
        </div>
    </div>
</section>

<app-footernav></app-footernav>



</main>
